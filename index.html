<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tool explorer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="hero">
        <div class="container">
            <h1>Tool Explorer</h1>
            <form>
                <input type="search" id="search-input" placeholder="Search for a tool">
                <button type="submit"><i class="fas fa-search"></i></button>
            </form>
        </div>
    </div>

    <div class="category-pills">
        <div class="pill">
            <a href="?termux">Termux</a>
        </div>
        <div class="pill">
            <a href="?python">Python</a>
        </div>
        <div class="pill">
            <a href="?ai">AI</a>
        </div>
    </div>

    <?php

        if isset($_GET["search"]) {
            $search_term = $_GET["search"];
            $url = "https://api.github.com/search/repositories?q=$search_term";
        } elseif isset($_GET["termux"]) {
            $url = "https://api.github.com/search/repositories?q=language:shell+topic:termux";
        } elseif isset($_GET["python"]) {
            $url = "https://api.github.com/search/repositories?q=language:python";
        } elseif isset($_GET["ai"]) {
            $url = "https://api.github.com/search/repositories?q=topic:AI";
        } else {
            $url = "https://api.github.com/search/repositories?q=stars:>=1000";
        }

        $response = file_get_contents($url);
        $data = json_decode($response, true);

        foreach ($data["items"] as $repository) {
    ?>

    <div class="card">
        <h2><?= $repository["name"] ?></h2>
        <p><i class="fas fa-star"></i> <?= $repository["stargazers_count"] ?></p>
        <p><i class="fas fa-fork"></i> <?= $repository["forks_count"] ?></p>
        <p><i class="fas fa-language"></i> <?= $repository["language"] ?></p>
        <a href="<?= $repository["html_url"] ?>">View on GitHub</a>
    </div>

    <?php } ?>

</body>
</html>