<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>قاعدة بيانات الأقسام والكلمات المفتاحية</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/lucide@1.3.0/dist/lucide.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
    <header class="bg-white py-4">
        <h1 class="text-3xl text-center font-bold">قاعدة بيانات الأقسام والكلمات المفتاحية</h1>
    </header>
    <main class="container mx-auto p-4 pt-6 mt-10">
        <input id="mainSearchInput" type="text" class="w-full p-2 pl-10 text-sm text-gray-700 placeholder-gray-600 bg-gray-100 rounded-md" placeholder="البحث عن أداة...">
        <div id="resultsContainer" class="mt-4"></div>
        <div class="flex flex-wrap justify-center mt-6">
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">أندرويد</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">بايثون</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">أدوات عالمية</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">مكتبات</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">أنظمة حماية</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">الشبكات</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">تيرموكس</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">الهندسة العكسية</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">تطبيقات</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">لغات عالمية</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">اختراق المواقع</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">الذكاء الاصطناعي</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">برامج ويندوز</button>
            <button class="filter-btn mx-2 p-2 rounded-md bg-gray-200 hover:bg-gray-300 text-gray-600">أدوات Cloud</button>
        </div>
    </main>
    <script>
        const SYSTEM_CONFIG = {
            apiUrl: "https://api.github.com/search/repositories?q=",
            sections: {
                'أندرويد': 'android+hacking+apk+rat+mod+termux',
                'بايثون': 'python+exploit+security+scripts+payload',
                'أدوات عالمية': 'awesome-hacking+cybersecurity+toolkit',
                'مكتبات': 'security-libraries+npm+pip+packages',
                'أنظمة حماية': 'firewall+ids+ips+antivirus+edr',
                'الشبكات': 'wifi+hacking+scanner+packet+sniffing',
                'تيرموكس': 'termux+tools+scripts+metasploit',
                'الهندسة العكسية': 'reverse-engineering+decompiler+binary',
                'تطبيقات': 'hacking-apps+desktop+gui+tools',
                'لغات عالمية': 'c+cpp+rust+golang+hacking+scripts',
                'اختراق المواقع': 'sql-injection+xss+scanner+web-pentest',
                'الذكاء الاصطناعي': 'ai+hacking+security+automation',
                'برامج ويندوز': 'windows-tools+forensics+malware-analysis',
                'أدوات Cloud': 'aws+azure+cloud-security+pentesting'
            }
        };

        async function fetchEverything(query) {
            const resultsContainer = document.getElementById('resultsContainer');
            resultsContainer.innerHTML = '<div class="loading-spinner">جاري استخراج الأدوات والأنظمة من السيرفرات العالمية...</div>';

            try {
                const response = await fetch(`${SYSTEM_CONFIG.apiUrl}${encodeURIComponent(query)}&per_page=100`);
                const data = await response.json();

                if (data.items && data.items.length > 0) {
                    buildToolCards(data.items);
                } else {
                    resultsContainer.innerHTML = '<p class="error-msg">No results found for: ' + query + '</p>';
                }
            } catch (err) {
                resultsContainer.innerHTML = '<p class="error-msg">خطأ في الاتصال بالقاعدة العالمية!</p>';
            }
        }

        function buildToolCards(items) {
            const resultsContainer = document.getElementById('resultsContainer');
            resultsContainer.innerHTML = "";

            items.forEach(item => {
                const zipDownload = `${item.html_url}/archive/refs/heads/${item.default_branch}.zip`;
                
                const cardHTML = 
                    `<div class="tool-card bg-white p-4 rounded-md shadow-md">
                        <div class="tool-header">
                            <h3>${item.name}</h3>
                            <span class="badge bg-gray-200 text-gray-600 rounded-md px-2 py-1">${item.language || 'Global'}</span>
                        </div>
                        <p class="description text-gray-600">${item.description ? item.description.substring(0, 110) : 'أداة أو نظام متطور تم سحبه من GitHub'}</p>
                        <div class="footer-actions">
                            <a href="${item.html_url}" target="_blank" class="github-link text-blue-600 hover:text-blue-800">GitHub</a>
                            <a href="${zipDownload}" class="quick-download text-green-600 hover:text-green-800" download>
                                تحميل ZIP
                            </a>
                        </div>
                    </div>`
                ;
                resultsContainer.insertAdjacentHTML('beforeend', cardHTML);
            });
        }

        const topSearch = document.getElementById('mainSearchInput');
        topSearch?.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                fetchEverything(topSearch.value);
            }
        });

        document.addEventListener('click', (e) => {
            const clickedText = e.target.innerText.trim();
            
            if (SYSTEM_CONFIG.sections[clickedText]) {
                fetchEverything(SYSTEM_CONFIG.sections[clickedText]);
            } else if (e.target.classList.contains('filter-btn')) {
                fetchEverything(clickedText + " tools");
            }
        });
    </script>
</body>
</html>